/*! Copyright(c) 2021 https://github.com/ping

This software is released under the Reciprocal Public License 1.5.
https://opensource.org/licenses/RPL-1.5

*/

body {
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    padding: 0;
    margin: 0;
    background-color: #d4dadc;
    color: #333;
    overflow: hidden;
}

a {
    color: #222;
}

#footer {
    a {
        color: #555;
    }
}

#map {
    width: 100%;
    height: 97vh;
    height: 100vh;
}

// https: //github.com/Leaflet/Leaflet/issues/4686
.leaflet-fade-anim .leaflet-tile,
.leaflet-zoom-anim .leaflet-zoom-animated {
    will-change: auto !important;
}

/* library marker */
.extra-marker {

    // &.od-marker {
    //     &-small svg g {
    //         /* darken outline a little for yellow marker */
    //         opacity: 0.4;
    //     }
    // }

    .od-marker-icon {
        &-small {
            font-size: 12px;
        }

        &-medium {
            font-size: 14px;
        }

        &-large {
            font-size: 16px;
        }
    }
}

/* library marker popup */
.leaflet-popup {

    a.leaflet-popup-close-button {
        top: 3px;
        right: 3px;

        &:hover {
            color: #b95151;
        }
    }

    .leaflet-popup-content {
        margin: 12px 27px 12px 12px;

        a {
            text-decoration: none;

            &:hover {
                text-decoration: underline;
            }
        }

        h2 {
            margin-top: 0;
            margin-bottom: 0.5rem;
            line-height: 1.2;
        }

        p {
            margin-top: 0.2rem;
            margin-bottom: 0.5rem;
        }

        span.od-link,
        span.map-link,
        span.od-more-link {
            display: block;
            margin-bottom: 0.25rem;
        }

        span.map-link,
        span.od-more-link {

            a {
                color: #666;
            }
        }

        span.map-link {
            a:hover i.fa {
                color: #018f01;
            }
        }

        span.od-more-link {
            a {
                display: inline-block;
                margin-right: 0.5rem;
            }

            a.card:hover i.fa {
                color: #e49400;
            }

            a.directions:hover i.fa {
                color: #018f01;
            }
        }

        .text-break {
            word-break: break-word;
        }

        .count {
            display: inline-block;
            border-radius: 0.25rem;
            padding: 0 3px;
            margin-bottom: 0.2rem;
            font-size: 1em;

            .badge {
                font-size: 85%;
                background-color: #888;
                color: #fff;
                padding: 2px 6px;
                border-radius: 3px;
            }

            .badge-info {
                // background-color: #17a2b8;
                background-color: #0078A8;
            }
        }
    }
}

/* cluster markers */
.marker-cluster {
    &-large {
        background-color: rgba(30, 30, 30, 0.4);

        div {
            background-color: rgba(30, 30, 30, 0.6);
            color: #fff;
        }
    }

    &-medium {
        background-color: rgba(60, 60, 60, 0.4);

        div {
            background-color: rgba(60, 60, 60, 0.6);
            color: #fff;
        }
    }

    &-small {
        background-color: rgba(90, 90, 90, 0.4);

        div {
            background-color: rgba(90, 90, 90, 0.6);
            color: #fff;
        }
    }
}

/* layers control */
.leaflet-control-layers {

    &.leaflet-control-layers-expanded {
        padding: 3px 0;

        input.leaflet-control-layers-selector {
            display: none;
        }

        .leaflet-control-layers-base label {
            margin: 0;

            span span {
                padding: 7px 5px;
                display: block;
                text-align: center;

                .fa.lib {
                    &-small {
                        color: #8d8d24;
                    }

                    &-medium {
                        color: #29a2a7;
                    }

                    &-large {
                        color: #ad2a86;
                    }
                }
            }

            &:hover span {
                background-color: #eee;
                cursor: pointer;
            }

            :checked+span {
                background-color: #eee;
            }
        }
    }
}

/* stack horizontally on the top left */
.leaflet-control-geocoder,
.leaflet-control-locate {
    display: inline-block;
    float: none;
    vertical-align: top;
}

/* geocoder */
.leaflet-control-geocoder-form {
    vertical-align: baseline;

    input {
        max-width: 210px;
    }
}

.leaflet-control-geocoder-error {
    margin: 8px;
}

.leaflet-control-geocoder-throbber .leaflet-control-geocoder-icon {
    background-position: center;
    background-size: 70%;
}

#theme-toggle {
    width: 30px;
    height: 30px;
    cursor: pointer;
    background-color: #fff;

    svg {
        width: 100%;
        height: 100%;
        color: #333;
        padding: 4px;
        box-sizing: border-box;
    }

    &:hover {
        background-color: #eee;
    }
}

.dark-mode {
    background-color: rgb(38, 38, 38);
    color: #eee;

    #footer {
        a {
            color: #ddd;
        }
    }

    .extra-marker-shadow {
        background: none;
    }

    /* cluster markers */
    .marker-cluster {
        &-large {
            background-color: rgba(250, 250, 250, 0.5);

            div {
                background-color: rgba(250, 250, 250, 0.8);
                color: #333;
            }
        }

        &-medium {
            background-color: rgba(230, 230, 230, 0.4);

            div {
                background-color: rgba(230, 230, 230, 0.7);
                color: #333;
            }
        }

        &-small {
            background-color: rgba(210, 210, 210, 0.3);

            div {
                background-color: rgba(210, 210, 210, 0.6);
                color: #333;
            }
        }
    }

    /* controls */
    .leaflet-bar {
        border: 2px solid rgba(250, 250, 250, 0.2);
        background-color: rgba(10, 10, 10, 0.8);
        color: #eee;

        input {
            color: #eee;
        }

        a {
            background-color: transparent;
            color: #eee;

            &:hover {
                background-color: rgba(50, 50, 50, 0.8);
            }

            &.leaflet-disabled {
                color: #8b8b8b;
                // background: rgba(10, 10, 10, 0.8);
                background: transparent;
            }
        }
    }

    .leaflet-control-zoom.leaflet-bar {

        a,
        a:hover {
            border-bottom-color: rgba(250, 250, 250, 0.2);
        }
    }

    /* layers control */
    .leaflet-control-layers {
        border: 2px solid rgba(250, 250, 250, 0.2);
        background-color: rgba(10, 10, 10, 0.8);
        color: #eee;

        &.leaflet-control-layers-expanded {
            .leaflet-control-layers-base label {
                span span {

                    .fa.lib {
                        &-small {
                            // color: #f7d53b;
                            color: #f7f73b;
                        }

                        &-medium {
                            color: #3bf1f7;
                        }

                        &-large {
                            color: #f73bbf;
                        }
                    }
                }

                &:hover span {
                    background-color: rgba(50, 50, 50, 0.8);
                }

                :checked+span {
                    background-color: rgba(50, 50, 50, 0.8);
                }
            }
        }
    }

    /* attribution */
    .leaflet-control-attribution {
        background-color: rgba(10, 10, 10, 0.8);
        color: #ddd;

        a {
            color: #5fd2ff;
        }
    }

    /* library marker popup */
    a.leaflet-popup-close-button:hover {
        color: #ff6e6e;
    }

    .leaflet-popup-tip-container .leaflet-popup-tip {
        background-color: rgba(50, 50, 50, 1.0);
    }

    .leaflet-popup-content-wrapper {
        background-color: rgba(50, 50, 50, 1.0);
        color: #ddd;

        a {
            color: #5fd2ff;
        }
    }

    .leaflet-popup-content {

        span.map-link,
        span.od-more-link {

            a {
                color: #bbb;
            }
        }
    }

    /* geocoder */
    .leaflet-control-geocoder {
        input {
            line-height: 1.6;
            padding: 0 0.5rem;
            border-radius: 3px;

            &:focus {
                background-color: rgba(20, 20, 20, 0.8);
            }
        }
    }

    .leaflet-control-geocoder-icon {
        background-color: transparent;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M12.2 13l3.4 6.6c.6 1.1 2.5-.4 2-1.2l-4-6.2z' stroke='%23fff' fill='%23fff' /%3E%3Ccircle cx='10.8' cy='8.9' r='3.9' fill='none' stroke='%23fff' stroke-width='1.5'/%3E%3C/svg%3E");
    }

    .leaflet-control-geocoder-error {
        color: #eee;
    }

    .leaflet-control-geocoder-address-context {
        color: #999;
    }

    .leaflet-control-geocoder-alternatives li {
        border-bottom-color: #777;
    }

    .leaflet-control-geocoder-alternatives li:hover,
    .leaflet-control-geocoder-selected {
        background-color: rgba(51, 51, 51, 0.8);
    }

    .leaflet-control-geocoder-throbber .leaflet-control-geocoder-icon {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' stroke='%23fff' stroke-linecap='round' stroke-width='1.6' viewBox='0 0 24 24'%3E%3Cdefs/%3E%3Cg%3E%3Cpath stroke-opacity='.1' d='M14 8.4l3-5'/%3E%3Cpath stroke-opacity='.2' d='M15.6 10l5-3'/%3E%3Cpath stroke-opacity='.3' d='M16.2 12H22'/%3E%3Cpath stroke-opacity='.4' d='M15.6 14l5 3m-6.5-1.4l2.9 5'/%3E%3Cpath stroke-opacity='.5' d='M12 16.2V22m-2-6.4l-3 5'/%3E%3Cpath stroke-opacity='.6' d='M8.4 14l-5 3'/%3E%3Cpath stroke-opacity='.7' d='M7.8 12H2'/%3E%3Cpath stroke-opacity='.8' d='M8.4 10l-5-3'/%3E%3Cpath stroke-opacity='.9' d='M10 8.4l-3-5'/%3E%3Cpath d='M12 7.8V2'/%3E%3CanimateTransform attributeName='transform' calcMode='discrete' dur='1s' repeatCount='indefinite' type='rotate' values='0 12 12;30 12 12;60 12 12;90 12 12;120 12 12;150 12 12;180 12 12;210 12 12;240 12 12;270 12 12;300 12 12;330 12 12'/%3E%3C/g%3E%3C/svg%3E");
    }

    .leaflet-control-locate a {
        .leaflet-control-locate-location-arrow {
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M445 4 29 195c-48 23-32 93 19 93h176v176c0 51 70 67 93 19L508 67c16-38-25-79-63-63z"/></svg>');
        }
        .leaflet-control-locate-spinner {
            background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="white" d="M304 48a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48 368a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm208-208a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM96 256a48 48 0 1 0-96 0 48 48 0 0 0 96 0zm13 99a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm294 0a48 48 0 1 0 0 96 48 48 0 0 0 0-96zM109 61a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"/></svg>');
        }
    }


    #theme-toggle {
        background-color: rgba(10, 10, 10, 0.8);

        svg {
            // color: #eee;
            fill: #eee;
        }

        &:hover {
            background-color: rgba(50, 50, 50, 0.8);
        }
    }
}